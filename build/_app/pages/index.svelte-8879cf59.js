import{S as re,i as oe,s as ae,t as V,e as w,h as C,c as M,a as $,d as u,b,K as x,g as O,J as m,L as ee,M as U,j as ke,N as we,k as D,m as T,E as se,O as Me,P as Ie,Q as ue,R as $e,T as he,U as _e,V as ye,v as qe,W as B,w as W,x as X,y as Y,q as G,o as R,B as Z,l as de,X as Se,p as Oe,n as Pe}from"../chunks/index-f5bb32ce.js";import{w as De}from"../chunks/index-41619131.js";const Te=["bird","butterfly","cat","dog","horse","ostrich","shark","spider","turtle"],Ve=["austria","belgium","croatia","czechia","france","germany","greece","ireland","italy","netherlands","poland","spain","sweden"],Ce=["try-it","wish-luck","kick-stuff","u","i","f"];var te=De(null);function me(o,e,t){const l=o.slice();return l[2]=e[t],l}function ve(o,e,t){const l=o.slice();return l[1]=e[t],l}function pe(o){let e,t,l,n,s,c,p,g,_=o[4],v=[];for(let h=0;h<_.length;h+=1)v[h]=ge(ve(o,_,h));return{c(){e=V(`From\r
    `),t=w("select"),l=w("option"),n=V("\u2014");for(let h=0;h<v.length;h+=1)v[h].c();c=V(`\r
\r
    to`),this.h()},l(h){e=C(h,`From\r
    `),t=M(h,"SELECT",{class:!0});var a=$(t);l=M(a,"OPTION",{class:!0});var i=$(l);n=C(i,"\u2014"),i.forEach(u);for(let f=0;f<v.length;f+=1)v[f].l(a);a.forEach(u),c=C(h,`\r
\r
    to`),this.h()},h(){l.__value=s="",l.value=l.__value,l.disabled=!0,l.selected=!0,b(l,"class","svelte-1f8da9h"),b(t,"class","svelte-1f8da9h"),o[1]===void 0&&x(()=>o[7].call(t))},m(h,a){O(h,e,a),O(h,t,a),m(t,l),m(l,n);for(let i=0;i<v.length;i+=1)v[i].m(t,null);ee(t,o[1]),O(h,c,a),p||(g=U(t,"change",o[7]),p=!0)},p(h,a){if(a&16){_=h[4];let i;for(i=0;i<_.length;i+=1){const f=ve(h,_,i);v[i]?v[i].p(f,a):(v[i]=ge(f),v[i].c(),v[i].m(t,null))}for(;i<v.length;i+=1)v[i].d(1);v.length=_.length}a&18&&ee(t,h[1])},d(h){h&&u(e),h&&u(t),we(v,h),h&&u(c),p=!1,g()}}}function ge(o){let e,t=o[1]+"",l,n;return{c(){e=w("option"),l=V(t),this.h()},l(s){e=M(s,"OPTION",{class:!0});var c=$(e);l=C(c,t),c.forEach(u),this.h()},h(){e.__value=n=o[1],e.value=e.__value,b(e,"class","svelte-1f8da9h")},m(s,c){O(s,e,c),m(e,l)},p(s,c){c&16&&t!==(t=s[1]+"")&&ke(l,t),c&16&&n!==(n=s[1])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function be(o){let e,t=o[2]+"",l,n;return{c(){e=w("option"),l=V(t),this.h()},l(s){e=M(s,"OPTION",{class:!0});var c=$(e);l=C(c,t),c.forEach(u),this.h()},h(){e.__value=n=o[2],e.value=e.__value,b(e,"class","svelte-1f8da9h")},m(s,c){O(s,e,c),m(e,l)},p(s,c){c&8&&t!==(t=s[2]+"")&&ke(l,t),c&8&&n!==(n=s[2])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function Ne(o){let e,t,l,n,s,c,p,g,_,v,h,a=!o[0]&&pe(o),i=o[3],f=[];for(let r=0;r<i.length;r+=1)f[r]=be(me(o,i,r));return{c(){e=w("div"),a&&a.c(),t=D(),l=w("select"),n=w("option"),s=V("\u2014");for(let r=0;r<f.length;r+=1)f[r].c();c=D(),p=w("button"),g=V("View \u203A"),this.h()},l(r){e=M(r,"DIV",{class:!0});var d=$(e);a&&a.l(d),t=T(d),l=M(d,"SELECT",{class:!0});var E=$(l);n=M(E,"OPTION",{class:!0});var P=$(n);s=C(P,"\u2014"),P.forEach(u);for(let N=0;N<f.length;N+=1)f[N].l(E);E.forEach(u),c=T(d),p=M(d,"BUTTON",{class:!0});var S=$(p);g=C(S,"View \u203A"),S.forEach(u),d.forEach(u),this.h()},h(){n.__value="",n.value=n.__value,n.disabled=!0,n.selected=!0,b(n,"class","svelte-1f8da9h"),b(l,"class","svelte-1f8da9h"),o[2]===void 0&&x(()=>o[8].call(l)),p.disabled=_=o[0]?!o[2]:!o[1]||!o[2],b(p,"class","svelte-1f8da9h"),b(e,"class","MorphSelector svelte-1f8da9h")},m(r,d){O(r,e,d),a&&a.m(e,null),m(e,t),m(e,l),m(l,n),m(n,s);for(let E=0;E<f.length;E+=1)f[E].m(l,null);ee(l,o[2]),m(e,c),m(e,p),m(p,g),v||(h=[U(l,"change",o[8]),U(p,"click",o[5])],v=!0)},p(r,[d]){if(r[0]?a&&(a.d(1),a=null):a?a.p(r,d):(a=pe(r),a.c(),a.m(e,t)),d&8){i=r[3];let E;for(E=0;E<i.length;E+=1){const P=me(r,i,E);f[E]?f[E].p(P,d):(f[E]=be(P),f[E].c(),f[E].m(l,null))}for(;E<f.length;E+=1)f[E].d(1);f.length=i.length}d&12&&ee(l,r[2]),d&31&&_!==(_=r[0]?!r[2]:!r[1]||!r[2])&&(p.disabled=_)},i:se,o:se,d(r){r&&u(e),a&&a.d(),we(f,r),v=!1,Me(h)}}}function He(o,e,t){let l,n,{data:s=[]}=e,{single:c=!1}=e,p=Ie(),g="",_="";function v(){p("choose",{from:g,to:_})}function h(){g=ue(this),t(1,g),t(4,l),t(6,s),t(2,_)}function a(){_=ue(this),t(2,_),t(3,n),t(6,s),t(1,g)}return o.$$set=i=>{"data"in i&&t(6,s=i.data),"single"in i&&t(0,c=i.single)},o.$$.update=()=>{o.$$.dirty&68&&t(4,l=s.filter(i=>i!==_)),o.$$.dirty&66&&t(3,n=s.filter(i=>i!==g))},[c,g,_,n,l,v,s,h,a]}class le extends re{constructor(e){super(),oe(this,e,He,Ne,ae,{data:6,single:0})}}function Q(o,{delay:e=0,duration:t=400,easing:l=$e}={}){const n=+getComputedStyle(o).opacity;return{delay:e,duration:t,easing:l,css:s=>`opacity: ${s*n}`}}function Le(o){let e;return{c(){e=V("Loading...")},l(t){e=C(t,"Loading...")},m(t,l){O(t,e,l)},p:se,d(t){t&&u(e)}}}function je(o){let e,t,l,n,s,c,p,g,_,v,h,a,i,f,r,d,E,P,S,N;return{c(){e=w("div"),t=w("p"),l=V("Dilation Morph"),n=D(),s=w("img"),p=D(),g=w("div"),_=w("p"),v=V("Voronoi Morph"),h=D(),a=w("img"),f=D(),r=w("div"),d=w("p"),E=V("Mixed Morph"),P=D(),S=w("img"),this.h()},l(y){e=M(y,"DIV",{class:!0});var q=$(e);t=M(q,"P",{class:!0});var A=$(t);l=C(A,"Dilation Morph"),A.forEach(u),n=T(q),s=M(q,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),q.forEach(u),p=T(y),g=M(y,"DIV",{class:!0});var H=$(g);_=M(H,"P",{class:!0});var F=$(_);v=C(F,"Voronoi Morph"),F.forEach(u),h=T(H),a=M(H,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),H.forEach(u),f=T(y),r=M(y,"DIV",{class:!0});var I=$(r);d=M(I,"P",{class:!0});var k=$(d);E=C(k,"Mixed Morph"),k.forEach(u),P=T(I),S=M(I,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),I.forEach(u),this.h()},h(){b(t,"class","svelte-q6hf1b"),B(s.src,c=o[1])||b(s,"src",c),b(s,"alt","Dilation morph"),b(s,"width",480),b(s,"height",480),b(s,"class","svelte-q6hf1b"),b(e,"class","morph dilation svelte-q6hf1b"),b(_,"class","svelte-q6hf1b"),B(a.src,i=o[2])||b(a,"src",i),b(a,"alt","Voronoi morph"),b(a,"width",480),b(a,"height",480),b(a,"class","svelte-q6hf1b"),b(g,"class","morph voronoi svelte-q6hf1b"),b(d,"class","svelte-q6hf1b"),B(S.src,N=o[3])||b(S,"src",N),b(S,"alt","Mixed morph"),b(S,"width",480),b(S,"height",480),b(S,"class","svelte-q6hf1b"),b(r,"class","morph mixed svelte-q6hf1b")},m(y,q){O(y,e,q),m(e,t),m(t,l),m(e,n),m(e,s),O(y,p,q),O(y,g,q),m(g,_),m(_,v),m(g,h),m(g,a),O(y,f,q),O(y,r,q),m(r,d),m(d,E),m(r,P),m(r,S)},p(y,q){q&2&&!B(s.src,c=y[1])&&b(s,"src",c),q&4&&!B(a.src,i=y[2])&&b(a,"src",i),q&8&&!B(S.src,N=y[3])&&b(S,"src",N)},d(y){y&&u(e),y&&u(p),y&&u(g),y&&u(f),y&&u(r)}}}function Ae(o){let e,t,l,n,s,c,p,g,_,v,h;function a(r,d){return r[0]?je:Le}let i=a(o),f=i(o);return{c(){e=w("div"),f.c(),n=D(),s=w("div"),c=V("Close \xD7"),this.h()},l(r){e=M(r,"DIV",{class:!0});var d=$(e);f.l(d),d.forEach(u),n=T(r),s=M(r,"DIV",{class:!0});var E=$(s);c=C(E,"Close \xD7"),E.forEach(u),this.h()},h(){b(e,"class","Preview svelte-q6hf1b"),b(s,"class","close svelte-q6hf1b")},m(r,d){O(r,e,d),f.m(e,null),O(r,n,d),O(r,s,d),m(s,c),_=!0,v||(h=[U(e,"click",o[4]),U(s,"click",o[4])],v=!0)},p(r,[d]){i===(i=a(r))&&f?f.p(r,d):(f.d(1),f=i(r),f&&(f.c(),f.m(e,null)))},i(r){_||(x(()=>{l&&l.end(1),t=he(e,Q,{duration:200}),t.start()}),x(()=>{g&&g.end(1),p=he(s,Q,{duration:200}),p.start()}),_=!0)},o(r){t&&t.invalidate(),l=_e(e,Q,{duration:200}),p&&p.invalidate(),g=_e(s,Q,{duration:200}),_=!1},d(r){r&&u(e),f.d(),r&&l&&l.end(),r&&u(n),r&&u(s),r&&g&&g.end(),v=!1,Me(h)}}}function Fe(o,e,t){let l;ye(o,te,_=>t(5,l=_));let n=!1,s,c,p;qe(async()=>{let _=`/images/${l.from}-${l.to}`;l.from||(_=`/images/${l.to}`);const h=[`${_}/dilation.gif`,`${_}/voronoi.gif`,`${_}/mixed.gif`].map(a=>new Promise((i,f)=>{const r=new Image;r.onload=function(){i(a)},r.onerror=function(d){f(a)},r.src=a}));try{t(1,[s,c,p]=await Promise.all(h),s,t(2,c),t(3,p))}catch(a){console.log(a),alert("Failed to load "+a),g();return}t(0,n=!0)});function g(){te.set(null),t(0,n=!1)}return[n,s,c,p,g]}class Ge extends re{constructor(e){super(),oe(this,e,Fe,Ae,ae,{})}}function Ee(o){let e,t;return e=new Ge({}),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){Y(e,l,n),t=!0},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Be(o){let e,t,l,n,s,c,p,g,_,v,h,a,i,f,r,d,E,P,S,N,y,q,A,H,F;v=new le({props:{data:Te}}),v.$on("choose",o[1]),d=new le({props:{data:Ve}}),d.$on("choose",o[1]),q=new le({props:{data:Ce,single:!0}}),q.$on("choose",o[1]);let I=o[0]&&Ee();return{c(){e=D(),t=w("main"),l=w("h1"),n=V("Hausdorff Morphing"),s=D(),c=w("section"),p=w("h2"),g=V("Animals"),_=D(),W(v.$$.fragment),h=D(),a=w("section"),i=w("h2"),f=V("Countries"),r=D(),W(d.$$.fragment),E=D(),P=w("section"),S=w("h2"),N=V("Letters"),y=D(),W(q.$$.fragment),A=D(),I&&I.c(),H=de(),this.h()},l(k){Se('[data-svelte="svelte-81jlyj"]',document.head).forEach(u),e=T(k),t=M(k,"MAIN",{class:!0});var j=$(t);l=M(j,"H1",{});var ie=$(l);n=C(ie,"Hausdorff Morphing"),ie.forEach(u),s=T(j),c=M(j,"SECTION",{});var z=$(c);p=M(z,"H2",{});var ne=$(p);g=C(ne,"Animals"),ne.forEach(u),_=T(z),X(v.$$.fragment,z),z.forEach(u),h=T(j),a=M(j,"SECTION",{});var J=$(a);i=M(J,"H2",{});var ce=$(i);f=C(ce,"Countries"),ce.forEach(u),r=T(J),X(d.$$.fragment,J),J.forEach(u),E=T(j),P=M(j,"SECTION",{});var K=$(P);S=M(K,"H2",{});var fe=$(S);N=C(fe,"Letters"),fe.forEach(u),y=T(K),X(q.$$.fragment,K),K.forEach(u),j.forEach(u),A=T(k),I&&I.l(k),H=de(),this.h()},h(){document.title="Hausdorff Morphing",b(t,"class","svelte-1ujmi1l")},m(k,L){O(k,e,L),O(k,t,L),m(t,l),m(l,n),m(t,s),m(t,c),m(c,p),m(p,g),m(c,_),Y(v,c,null),m(t,h),m(t,a),m(a,i),m(i,f),m(a,r),Y(d,a,null),m(t,E),m(t,P),m(P,S),m(S,N),m(P,y),Y(q,P,null),O(k,A,L),I&&I.m(k,L),O(k,H,L),F=!0},p(k,[L]){k[0]?I?L&1&&G(I,1):(I=Ee(),I.c(),G(I,1),I.m(H.parentNode,H)):I&&(Pe(),R(I,1,1,()=>{I=null}),Oe())},i(k){F||(G(v.$$.fragment,k),G(d.$$.fragment,k),G(q.$$.fragment,k),G(I),F=!0)},o(k){R(v.$$.fragment,k),R(d.$$.fragment,k),R(q.$$.fragment,k),R(I),F=!1},d(k){k&&u(e),k&&u(t),Z(v),Z(d),Z(q),k&&u(A),I&&I.d(k),k&&u(H)}}}function Re(o,e,t){let l;ye(o,te,s=>t(0,l=s));function n({detail:s}){let[c,p]=[s.from,s.to].sort();te.set({from:c,to:p})}return[l,n]}class Je extends re{constructor(e){super(),oe(this,e,Re,Be,ae,{})}}export{Je as default};
